# Colores
# Ejemplo: echo -e "Hola ${RED}mateo${NC}"
# muestra solo bonito en rojo
WHITE='\033[1;37m'
RED='\033[0;31m'
BLUE='\033[0;34m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
ORANGE='\033[0;33m'
CYAN='\033[0;36m'
PURPLE='\033[0;35m'
LIGHT_PURPLE='\033[1;35m'
NC='\033[0m'

# Genericos
shopt -s globstar

# Editor exports
export EDITOR=vim
export VISUAL=vim

# Generic aliases
alias gopen='gnome-open'
alias pbcopy='xclip -selection c'
alias pbpaste='xclip -selection clipboard -o'
alias tmux='tmux -2'
alias ip='ip -c'

# Git
alias g='git'
source /usr/lib/git-core/git-sh-prompt
source /usr/share/bash-completion/completions/git
complete -o default -o nospace -F _git g
PS1='\u:\[\e[02;36m\]\w\[\e[0;31m\]$(__git_ps1 " (%s)")\[\e[0;37m\]\$ ' # change default prompt
GIT_PS1_SHOWDIRTYSTATE=true
GIT_PS1_SHOWUNTRACKEDFILES=true

populate_git_alias() {
    git config --global "alias.$1" "$2"
}

populate_git_aliases() {
    populate_git_alias a add
    populate_git_alias amend "commit -a --amend --no-edit"
    populate_git_alias b branch
    populate_git_alias c commit
    populate_git_alias ch checkout
    populate_git_alias d diff
    populate_git_alias dc "diff --cached"
    populate_git_alias gl "log --graph --decorate --oneline"
    populate_git_alias lo "log --oneline"
    populate_git_alias lp "log -p"
    populate_git_alias pl pull
    populate_git_alias pr "pull --rebase"
    populate_git_alias ph push
    populate_git_alias s "status --short --branch"
    populate_git_alias sh show
    populate_git_alias g "grep --line-number"
    populate_git_alias gi "grep --line-number --ignore-case"
    populate_git_alias cdf "clean -df"
}

# Aptitude
get() {  # by default install latest search
    if [ $# -gt 0 ]; then
        sudo apt install $@
    else
        last_search=`history | cut -d ' ' -f4,5 | grep -E '^search' | cut -d ' ' -f2 | tail -1`
        sudo apt install $last_search
    fi
}

alias search='apt search'
alias update='sudo apt update'
alias upgrade='sudo apt upgrade'
alias purge='sudo apt purge'
alias remove='sudo apt remove'
alias autoremove='sudo apt autoremove'
alias uua='update && upgrade && autoremove'
